<script>

    /* ---------------- LOGIN SYSTEM ---------------- */

    function checkPass() {
        const pass = document.getElementById('pass').value.toLowerCase();

        if (pass === 'kuchu') {

            document.getElementById('auth-screen').classList.add('animate__animated', 'animate__fadeOut');

            setTimeout(() => {
                document.getElementById('auth-screen').remove();
                showLoadingScreen();
            }, 600);

        } else {
            alert("ACCESS DENIED. Nickname incorrect.");
        }
    }
    /* ---------------- EXTRA LOADING SCREEN ---------------- */

    function showLoadingScreen() {

        const loading = document.createElement("div");

        loading.id = "loading-screen";
        loading.className = "fixed inset-0 bg-black flex flex-col items-center justify-center text-pink-500 z-[200]";

        loading.innerHTML = `
            <h1 class="text-3xl mb-6 animate-pulse">Verifying Love Level üíñ</h1>

            <div class="w-64 h-2 bg-white/30 rounded-full overflow-hidden mb-4">
                <div id="load-bar" class="h-full bg-pink-500 w-0"></div>
            </div>

            <p id="load-text" class="text-sm tracking-widest uppercase">Scanning Heart...</p>
        `;

        document.body.appendChild(loading);

        let progress = 0;

        const bar = document.getElementById("load-bar");
        const text = document.getElementById("load-text");

        const messages = [
            "Scanning Heart üíì",
            "Detecting Cuteness üòç",
            "Checking Loyalty ü§û",
            "Matching Souls ‚ú®",
            "Approved ‚ù§Ô∏è"
        ];

        let i = 0;

        const interval = setInterval(() => {

            progress += 2;
            bar.style.width = progress + "%";

            if (progress % 20 === 0 && i < messages.length) {
                text.innerText = messages[i];
                i++;
            }

            if (progress >= 100) {

                clearInterval(interval);

                setTimeout(() => {
                    loading.remove();
                    document.getElementById('main-content').classList.remove('hidden');
                    startTypewriter();
                }, 500);
            }

        }, 50);
    }


    /* ---------------- TYPEWRITER ---------------- */

    const msg = "Initialization complete...\nTarget detected: The most beautiful girl.\n\nWill you be my Valentine, Kuchu?";
    let charIndex = 0;

    function startTypewriter() {
        if (charIndex < msg.length) {

            document.getElementById("text").innerHTML +=
                msg.charAt(charIndex).replace('\n', '<br>');

            charIndex++;

            setTimeout(startTypewriter, 50);
        }
    }


    /* ---------------- NO BUTTON LOGIC ---------------- */

    let noCount = 0;

    function dodge() {

        const btn = document.getElementById('noBtn');

        noCount++;

        /* After 5 attempts */
        if (noCount >= 5) {

            btn.innerHTML = "Ahh fine‚Ä¶ press it üòî";
            btn.onmouseover = null;

            showSadImage();

            return;
        }

        btn.style.position = 'absolute';
        btn.style.left = Math.random() * 80 + '%';
        btn.style.top = Math.random() * 80 + '%';

        const texts = ["Rude!", "Try harder", "Oops!", "Error 404", "Nah!"];

        btn.innerHTML = texts[Math.floor(Math.random() * texts.length)];
    }


    /* ---------------- SAD IMAGE ---------------- */

    function showSadImage() {

        const img = document.createElement("img");

        img.src = "sad.png";   // <-- Put your image name here
        img.className = "fixed bottom-10 right-10 w-48 animate__animated animate__fadeInUp z-[300]";

        document.body.appendChild(img);

        setTimeout(() => {
            img.remove();
        }, 6000);
    }


    /* ---------------- LOVE METER ---------------- */

    let meterVal = 0;
    let meterInterval;

    function startMeter() {

        document.getElementById('meter-container').classList.remove('hidden');

        meterInterval = setInterval(() => {

            if (meterVal < 100) {

                meterVal += 2.5;

                document.getElementById('meter').style.width =
                    meterVal + '%';
            }

        }, 30);
    }

    function stopMeter() {
        clearInterval(meterInterval);
    }


    /* ---------------- YES BUTTON ---------------- */

    function ultimateYes() {

        document.body.classList.add('shake');

        const card = document.getElementById('card');

        card.innerHTML = `
            <h1 class="calligraphy text-7xl md:text-9xl text-white pink-glow 
            animate__animated animate__heartBeat animate__infinite">

            Happy Valentine's Day Kuchuuuu!!!!! ‚ù§Ô∏è
            </h1>
        `;

        document.body.style.backgroundColor = "#be123c";


        /* Confetti */

        var end = Date.now() + (15 * 1000);

        (function frame() {

            confetti({
                particleCount: 10,
                angle: 60,
                spread: 55,
                origin: { x: 0 },
                colors: ['#fb7185', '#ffffff']
            });

            confetti({
                particleCount: 10,
                angle: 120,
                spread: 55,
                origin: { x: 1 },
                colors: ['#fb7185', '#ffffff']
            });

            if (Date.now() < end)
                requestAnimationFrame(frame);

        })();


        /* Floating Love Text */

        setInterval(() => {

            const div = document.createElement('div');

            div.innerHTML = "I LOVE YOU! ‚ù§Ô∏è";

            div.className =
                "fixed text-white font-black pointer-events-none animate__animated animate__zoomInUp opacity-50";

            div.style.left = Math.random() * 90 + "vw";
            div.style.top = Math.random() * 90 + "vh";

            document.body.appendChild(div);

            setTimeout(() => div.remove(), 2000);

        }, 150);
    }


    /* ---------------- CLICK HEARTS ---------------- */

    document.addEventListener('mousedown', (e) => {

        const h = document.createElement('div');

        h.innerHTML = "üå∏";

        h.className = "heart-trail text-4xl";

        h.style.left = e.clientX + 'px';
        h.style.top = e.clientY + 'px';

        document.body.appendChild(h);

        setTimeout(() => h.remove(), 1000);
    });

</script>
